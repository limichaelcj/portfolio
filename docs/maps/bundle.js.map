{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/filter.js","src/js/main.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","state","projects","Array","from","document","querySelectorAll","map","proj","node","id","next","view","rect","getBoundingClientRect","initProjectState","filters","forEach","onclick","ftag","dataset","tag","elem","classList","remove","filter","arguments","undefined","prev","Object","assign","tags","split","includes","style","display","setTimeout","opacity","updateProjects","options","duration","easing","dx","x","dy","y","animate","transform","concat","moveProjects","add","initFilterFunctions","addEventListener"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,GAAA,CAAAS,QAAA,IAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAa,EAAA,CAAA,SAAAT,EAAAU,EAAAJ,gBC2GAI,EAAOJ,QA3GP,SAA6BK,IA2C7B,SAA0BA,GACxBA,EAAMC,SAPCC,MAAMC,KAAKC,SAASC,iBAAiB,2CAObC,IAAI,SAAAC,GACjC,MAAO,CACLC,KAAMD,EACNE,GAAIF,EAAKE,GACTC,KAAM,CACJC,MAAM,EACNC,KAAML,EAAKM,4BAjDjBC,CAAiBd,GACjB,IAAMe,EAAUb,MAAMC,KAAKC,SAASC,iBAAiB,0CACrDU,EAAQC,QAAQ,SAAA7B,GACdA,EAAE8B,QAAU,WACV,IAAIC,EAAO/B,EAAEgC,QAAQC,IACrBL,EAAQC,QAAQ,SAAAK,GAAI,OAAIA,EAAKC,UAAUC,OAAO,cAkDpD,SAAwBvB,GAAsB,IAAfwB,EAAe,EAAAC,UAAA5B,aAAA6B,IAAAD,UAAA,GAAAA,UAAA,GAAN,MACtCzB,EAAMC,SAASe,QAAQ,SAAAT,GACrBA,EAAKoB,KAAOC,OAAOC,OAAO,GAAItB,EAAKG,MACnC,IAAIoB,EAAOvB,EAAKC,KAAKW,QAAQW,KAAKC,MAAM,KACpCD,EAAKE,SAASR,IAAsB,QAAXA,GAC3BjB,EAAKG,KAAKC,MAAO,EACjBJ,EAAKC,KAAKyB,MAAMC,QAAU,GAC1BC,WAAW,WAAA,OAAI5B,EAAKC,KAAKyB,MAAMG,QAAU,GAAG,MAE5C7B,EAAKG,KAAKC,MAAO,EACjBiB,OAAOC,OAAOtB,EAAKC,KAAKyB,MAAO,CAC7BC,QAAS,OACTE,QAAS,OAIfpC,EAAMC,SAASe,QAAQ,SAAAT,GAAI,OAAIA,EAAKG,KAAKE,KAAOL,EAAKC,KAAKK,0BAjEtDwB,CAAerC,EAAOkB,GAkF5B,SAAsBlB,GACpB,IAAIsC,EAAU,CACZC,SAAU,IACVC,OAAQ,YAGGxC,EAAMC,SAASuB,OAAO,SAAA9B,GAAC,OAAIA,EAAEiC,KAAKhB,MAAQjB,EAAEgB,KAAKC,OAEvDK,QAAQ,SAAAtB,GACb,IAAI+C,EAAK/C,EAAEiC,KAAKf,KAAK8B,EAAIhD,EAAEgB,KAAKE,KAAK8B,EACjCC,EAAKjD,EAAEiC,KAAKf,KAAKgC,EAAIlD,EAAEgB,KAAKE,KAAKgC,EACrClD,EAAEc,KAAKqC,QAAQ,CACb,CAAEC,UAAS,aAAAC,OAAeN,EAAf,QAAAM,OAAwBJ,EAAxB,QACX,CAAEG,UAAW,SACZR,KA/FDU,CAAahD,GAUbb,EAAEmC,UAAU2B,IAAI,qDChBtB,IAAMC,EAAsB7D,EAAQ,eAG9BW,EAAQ,GAGdI,SAAS+C,iBAAiB,mBAC1B,WACED,EAAoBlD","file":"../bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","function initFilterFunctions(state){\r\n  initProjectState(state);\r\n  const filters = Array.from(document.querySelectorAll('.portfolio__projects__filters .filter'));\r\n  filters.forEach(f => {\r\n    f.onclick = () => {\r\n      var ftag = f.dataset.tag;\r\n      filters.forEach(elem => elem.classList.remove('selected'));\r\n      updateProjects(state, ftag);\r\n      moveProjects(state);\r\n      // projs.forEach(p => {\r\n      //   var ptags = JSON.parse(p.dataset.tags);\r\n      //   if (ptags.includes(ftag) || ftag === 'all') {\r\n      //     p.classList.remove('hidden');\r\n      //   } else {\r\n      //     p.classList.add('hidden');\r\n      //   }\r\n      //   moveProjects(state);\r\n      // });\r\n      f.classList.add('selected');\r\n    }\r\n  });\r\n\r\n  // internal helper\r\n  // function reveal(el){\r\n  //   el.classList.remove('hidden');\r\n  //   el.classList.remove('invis');\r\n  //   moveProjects(state);\r\n  // }\r\n  // function hide(el) {\r\n  //   el.classList.add('invis');\r\n  //   el.classList.add('hidden');\r\n  //   moveProjects(state);\r\n  // }\r\n}\r\n\r\n// external helper\r\nfunction getProjects(){\r\n  return Array.from(document.querySelectorAll('.portfolio__projects__list > a.project'));\r\n}\r\n// function getSelected(){\r\n//   return getProjects().filter(elem => !(/hidden/g.test(elem.classList)));\r\n// }\r\n\r\nfunction initProjectState(state){\r\n  state.projects = getProjects().map(proj => {\r\n    return {\r\n      node: proj,\r\n      id: proj.id,\r\n      next: {\r\n        view: true,\r\n        rect: proj.getBoundingClientRect()\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nfunction updateProjects(state, filter = 'all'){\r\n  state.projects.forEach(proj => {\r\n    proj.prev = Object.assign({}, proj.next);\r\n    var tags = proj.node.dataset.tags.split(' ');\r\n    if (tags.includes(filter) || filter === 'all') {\r\n      proj.next.view = true;\r\n      proj.node.style.display = '';\r\n      setTimeout(()=>proj.node.style.opacity = 1, 50);\r\n    } else {\r\n      proj.next.view = false;\r\n      Object.assign(proj.node.style, {\r\n        display: 'none',\r\n        opacity: 0\r\n      })\r\n    }\r\n  });\r\n  state.projects.forEach(proj => proj.next.rect = proj.node.getBoundingClientRect());\r\n}\r\n\r\n// function updateProjectState(state, filter = 'all') {\r\n//   state.projects.forEach(proj => {\r\n//     proj.prev = proj.next;\r\n//     proj.next.view = proj.id === filter || filter === 'all';\r\n//   });\r\n//   moveProjects(state)\r\n// }\r\n\r\n// function updateProjectRect(state) {\r\n//   state.projects.forEach(proj => {\r\n//     proj.next.rect = proj.node.getBoundingClientRect();\r\n//   });\r\n// }\r\n\r\nfunction moveProjects(state){\r\n  var options = {\r\n    duration: 250,\r\n    easing: 'ease-out'\r\n  };\r\n  // select groups\r\n  var toMove = state.projects.filter(p => p.prev.view && p.next.view);\r\n\r\n  toMove.forEach(p => {\r\n    var dx = p.prev.rect.x - p.next.rect.x;\r\n    var dy = p.prev.rect.y - p.next.rect.y;\r\n    p.node.animate([\r\n      { transform: `translate(${dx}px, ${dy}px)` },\r\n      { transform: 'none' }\r\n    ], options);\r\n  });\r\n}\r\n\r\nmodule.exports = initFilterFunctions;\r\n","// IMPORTS\r\n// const initParticles = require('./particlesBG.js')\r\nconst initFilterFunctions = require('./filter.js')\r\n\r\n// STATE\r\nconst state = {}\r\n\r\n// DOM CONTENT LOADED\r\ndocument.addEventListener('DOMContentLoaded', init)\r\nfunction init(){\r\n  initFilterFunctions(state);\r\n}\r\n"]}